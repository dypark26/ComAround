var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(e),a=/*#__PURE__*/n(t);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t.indexOf(n=r[o])>=0||(a[n]=e[n]);return a}var u,l="undefined"!=typeof window&&"undefined"!=typeof document?e.useLayoutEffect:e.useEffect,c=function(e,t,n){l(function(){if(e&&n){var o=function(){var t=[].slice.call(arguments);return void 0===t?n(e):n.apply(void 0,[e].concat(t))};return kakao.maps.event.addListener(e,t,o),function(){kakao.maps.event.removeListener(e,t,o)}}},[e,t,n])};!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(u||(u={}));var f=/*#__PURE__*/function(){function e(t){var n=t.appkey,o=t.id,a=void 0===o?"__reactKakaoMapsSdkloaderId":o,r=t.libraries,i=void 0===r?[]:r,s=t.nonce,u=t.retries,l=void 0===u?3:u,c=t.url,f=void 0===c?"//dapi.kakao.com/v2/maps/sdk.js":c;if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=a,this.appkey=n,this.libraries=i,this.nonce=s,this.retries=l,this.url=f,e.instance){if(!e.equalOptions(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(e.instance.options));return e.instance}e.instance=this}e.isLoaded=function(){return new Promise(function(t){return e.instance?e.instance.status===u.FAILURE||e.instance.status===u.INITIALIZED?t(!1):(e.instance.status===u.LOADING&&e.loadcheckcallbacks.push(function(e){return t(!e)}),t(!0)):window.kakao&&window.kakao.maps?window.kakao.maps.load(function(){t(!0)}):e.loadcheckcallbacks.push(function(e){t(!e)})})};var t,n,o=e.prototype;return o.load=function(){var e=this;return new Promise(function(t,n){e.loadCallback(function(e){e?n(e.error):t(window.kakao)})})},o.loadCallback=function(e){this.callbacks.push(e),this.execute()},o.resetIfRetryingFailed=function(){this.failed&&this.reset()},o.reset=function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0},o.execute=function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}},o.setScript=function(){document.getElementById(this.id)&&this.callback();var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)},o.loadErrorCallback=function(e,t,n,o,a){var r=this;if(this.errors.push({event:e,source:t,lineno:n,colno:o,error:a}),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in "+i+" ms."),setTimeout(function(){r.deleteScript(),r.setScript()},i)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()},o.createUrl=function(){var e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+"&autoload=false"},o.deleteScript=function(){var e=document.getElementById(this.id);e&&e.remove()},o.callback=function(){var t=this;kakao.maps.load(function(){t.done=!0,t.loading=!1,t.callbacks.forEach(function(e){e(t.onerrorEvent)}),t.callbacks=[],e.loadcheckcallbacks.forEach(function(e){e(t.onerrorEvent)}),e.loadcheckcallbacks=[]})},e.equalOptions=function(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(var n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url},t=e,(n=[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"status",get:function(){return this.onerrorEvent?u.FAILURE:this.done?u.SUCCESS:this.loading?u.LOADING:u.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();f.instance=void 0,f.loadcheckcallbacks=[];var d=["id","as","children","center","isPanto","padding","disableDoubleClick","disableDoubleClickZoom","draggable","zoomable","keyboardShortcuts","level","maxLevel","minLevel","mapTypeId","projectionId","scrollwheel","tileAnimation","onBoundsChanged","onCenterChanged","onClick","onDoubleClick","onDrag","onDragEnd","onDragStart","onIdle","onMaptypeidChanged","onMouseMove","onRightClick","onTileLoaded","onZoomChanged","onZoomStart","onCreate"],p=o.default.createContext(void 0),k=o.default.forwardRef(function(t,n){var a=t.id,i=t.as,u=t.children,k=t.center,m=t.isPanto,v=void 0!==m&&m,g=t.padding,y=void 0===g?32:g,h=t.disableDoubleClick,w=t.disableDoubleClickZoom,C=t.draggable,L=t.zoomable,E=t.keyboardShortcuts,M=t.level,b=t.maxLevel,I=t.minLevel,x=t.mapTypeId,O=t.projectionId,S=t.scrollwheel,z=t.tileAnimation,P=t.onBoundsChanged,R=t.onCenterChanged,A=t.onClick,D=t.onDoubleClick,T=t.onDrag,Z=t.onDragEnd,W=t.onDragStart,H=t.onIdle,j=t.onMaptypeidChanged,N=t.onMouseMove,_=t.onRightClick,F=t.onTileLoaded,G=t.onZoomChanged,U=t.onZoomStart,V=t.onCreate,q=s(t,d),B=i||"div",K=e.useState(!1),J=K[0],X=K[1],Y=e.useState(),Q=Y[0],$=Y[1],ee=e.useRef(null);return l(function(){f.isLoaded().then(X)},[]),l(function(){if(J){var e=ee.current;if(e){var t="lat"in k?new kakao.maps.LatLng(k.lat,k.lng):new kakao.maps.Coords(k.x,k.y),n=new kakao.maps.Map(e,{center:t,disableDoubleClick:h,disableDoubleClickZoom:w,draggable:C,keyboardShortcuts:E,level:M,mapTypeId:x,projectionId:O,scrollwheel:S,tileAnimation:z});return $(n),function(){e.innerHTML=""}}}},[J,h,w,x,z]),e.useImperativeHandle(n,function(){return Q},[Q]),l(function(){Q&&V&&V(Q)},[Q,V]),l(function(){if(Q){var e=Q.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());var t="lat"in k?new kakao.maps.LatLng(k.lat,k.lng):new kakao.maps.Coords(k.x,k.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(v?Q.panTo(t,y):Q.setCenter(t))}},[Q,k.lat,k.lng,k.x,k.y]),l(function(){Q&&void 0!==C&&Q.setDraggable(C)},[Q,C]),l(function(){Q&&void 0!==L&&Q.setZoomable(L)},[Q,L]),l(function(){Q&&E&&"boolean"==typeof E&&Q.setKeyboardShortcuts(E)},[Q,E]),l(function(){Q&&M&&Q.setLevel(M)},[Q,M]),l(function(){Q&&x&&Q.setMapTypeId(x)},[Q,x]),l(function(){Q&&O&&Q.setProjectionId(O)},[Q,O]),l(function(){Q&&b&&Q.setMaxLevel(b)},[Q,b]),l(function(){Q&&I&&Q.setMinLevel(I)},[Q,I]),c(Q,"bounds_changed",P),c(Q,"center_changed",R),c(Q,"click",A),c(Q,"dblclick",D),c(Q,"drag",T),c(Q,"dragstart",W),c(Q,"dragend",Z),c(Q,"idle",H),c(Q,"maptypeid_changed",j),c(Q,"mousemove",N),c(Q,"rightclick",_),c(Q,"tilesloaded",F),c(Q,"zoom_changed",G),c(Q,"zoom_start",U),o.default.createElement(o.default.Fragment,null,o.default.createElement(B,r({id:a||"react-kakao-maps-sdk-map-container"},q,{ref:ee})),Q&&o.default.createElement(p.Provider,{value:Q},u))}),m=function(t){var n=e.useContext(p);if(!n)throw new Error((t?t+" Component":"useMap")+" must exist inside Map Component!");return n},v=o.default.forwardRef(function(t,n){var o=t.map,r=t.position,i=t.marker,s=t.children,u=t.altitude,l=t.disableAutoPan,c=t.range,f=t.removable,d=t.zIndex,p=t.onCreate,k=e.useRef(document.createElement("div")),m=e.useMemo(function(){var e=new kakao.maps.InfoWindow({altitude:u,disableAutoPan:l,range:c,removable:f,zIndex:d,content:k.current,position:r});return k.current.style.display="none",e},[l,f]);return e.useImperativeHandle(n,function(){return m},[m]),e.useLayoutEffect(function(){return m.open(o,i),function(){m.close()}},[o,i]),e.useLayoutEffect(function(){p&&p(m)},[m,p]),e.useLayoutEffect(function(){m&&m.setPosition(r)},[m,r]),e.useLayoutEffect(function(){m&&u&&m.setAltitude(u)},[m,u]),e.useLayoutEffect(function(){m&&c&&m.setRange(c)},[m,c]),e.useLayoutEffect(function(){m&&d&&m.setZIndex(d)},[m,d]),k.current.parentElement&&a.default.createPortal(s,k.current.parentElement)}),g=o.default.createContext(void 0),y=o.default.forwardRef(function(t,n){var a=t.children,r=t.averageCenter,i=t.calculator,s=t.clickable,u=t.disableClickZoom,l=t.gridSize,f=t.hoverable,d=t.minClusterSize,p=t.minLevel,k=t.styles,v=t.texts,y=t.onClusterclick,h=t.onClusterdblclick,w=t.onClustered,C=t.onClusterout,L=t.onClusterover,E=t.onClusterrightclick,M=t.onCreate,b=m("MarkerClusterer"),I=e.useMemo(function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:r,calculator:i,clickable:s,disableClickZoom:u,gridSize:l,hoverable:f,minClusterSize:d,minLevel:p,styles:k,texts:v});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return e.useImperativeHandle(n,function(){return I},[I]),e.useLayoutEffect(function(){null==I||I.setMap(b)},[b,I]),e.useLayoutEffect(function(){I&&M&&M(I)},[I,M]),e.useLayoutEffect(function(){I&&l&&(I.setGridSize(l),I.redraw())},[I,l]),e.useLayoutEffect(function(){I&&d&&(I.setMinClusterSize(d),I.redraw())},[I,d]),e.useLayoutEffect(function(){I&&void 0!==r&&(I.setAverageCenter(r),I.redraw())},[I,r]),e.useLayoutEffect(function(){I&&p&&(I.setMinLevel(p),I.redraw())},[I,p]),e.useLayoutEffect(function(){I&&v&&(I.setTexts(v),I.redraw())},[I,v]),e.useLayoutEffect(function(){I&&i&&(I.setCalculator(i),I.redraw())},[I,i]),e.useLayoutEffect(function(){I&&k&&(I.setStyles(k),I.redraw())},[I,k]),c(I,"clusterclick",y),c(I,"clusterover",L),c(I,"clusterout",C),c(I,"clusterdblclick",h),c(I,"clusterrightclick",E),c(I,"clustered",w),I?o.default.createElement(g.Provider,{value:I},a):null}),h=o.default.forwardRef(function(t,n){var a=t.map,r=t.position,i=t.children,s=t.altitude,u=t.clickable,l=t.draggable,f=t.image,d=t.infoWindowOptions,p=t.onCreate,k=t.onClick,m=t.onDragEnd,y=t.onDragStart,h=t.onMouseOut,w=t.onMouseOver,C=t.opacity,L=t.range,E=t.title,M=t.zIndex,b=e.useContext(g),I=e.useMemo(function(){return new kakao.maps.Marker({altitude:s,clickable:u,draggable:l,image:f,opacity:C,range:L,title:E,zIndex:M,position:r})},[]);return e.useImperativeHandle(n,function(){return I},[I]),e.useLayoutEffect(function(){return b?b.addMarker(I):I.setMap(a),function(){b?b.removeMarker(I):I.setMap(null)}},[a,b,I]),e.useLayoutEffect(function(){p&&p(I)},[I,p]),c(I,"click",k),c(I,"dragstart",y),c(I,"dragend",m),c(I,"mouseout",h),c(I,"mouseover",w),e.useLayoutEffect(function(){a&&I&&r&&I.setPosition(r)},[a,I,r]),e.useLayoutEffect(function(){a&&I&&f&&I.setImage(f)},[a,I,f]),e.useLayoutEffect(function(){a&&I&&s&&I.setAltitude(s)},[a,I,s]),e.useLayoutEffect(function(){a&&I&&void 0!==u&&I.setClickable(u)},[a,I,u]),e.useLayoutEffect(function(){a&&I&&void 0!==l&&I.setDraggable(l)},[a,I,l]),e.useLayoutEffect(function(){a&&I&&C&&I.setOpacity(C)},[a,I,C]),e.useLayoutEffect(function(){a&&I&&L&&I.setRange(L)},[a,I,L]),e.useLayoutEffect(function(){a&&I&&E&&I.setTitle(E)},[a,I,E]),e.useLayoutEffect(function(){a&&I&&M&&I.setZIndex(M)},[a,I,M]),i?o.default.createElement(v,{position:r,map:a,marker:I,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},i):null}),w=o.default.forwardRef(function(t,n){var a=t.image,r=t.position,i=t.children,s=t.clickable,u=t.draggable,l=t.infoWindowOptions,c=t.onClick,f=t.onDragEnd,d=t.onDragStart,p=t.onMouseOut,k=t.onMouseOver,v=t.onCreate,g=t.opacity,y=t.title,w=t.zIndex,C=m("MapMarker"),L=e.useMemo(function(){var e,t,n,o,r,i,s,u,l,c,f,d;return a&&new kakao.maps.MarkerImage(a.src,new kakao.maps.Size(a.size.width,a.size.height),{alt:null==(e=a.options)?void 0:e.alt,coords:null==(t=a.options)?void 0:t.coords,offset:(null==(n=a.options)?void 0:n.offset)&&new kakao.maps.Point(null==(o=a.options)?void 0:o.offset.x,null==(r=a.options)?void 0:r.offset.y),shape:null==(i=a.options)?void 0:i.shape,spriteOrigin:(null==(s=a.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(u=a.options)?void 0:u.spriteOrigin.x,null==(l=a.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=a.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=a.options)?void 0:f.spriteSize.width,null==(d=a.options)?void 0:d.spriteSize.height)})},[a]),E=e.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):new kakao.maps.Coords(r.x,r.y).toLatLng()},[r.lat,r.lng,r.x,r.y]);return o.default.createElement(h,{map:C,position:E,image:L,clickable:s,draggable:u,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:v,opacity:g,title:y,zIndex:w,ref:n},i)}),C=o.default.forwardRef(function(t,n){var a=t.position,r=t.children,i=t.disableAutoPan,s=t.removable,u=t.zIndex,l=t.onCreate,c=m("MapInfoWindow"),f=e.useMemo(function(){return new kakao.maps.LatLng(a.lat,a.lng)},[a.lat,a.lng]);return o.default.createElement(v,{disableAutoPan:i,removable:s,zIndex:u,map:c,position:f,onCreate:l,ref:n},r)}),L=o.default.forwardRef(function(t,n){var o=t.position,r=t.children,i=t.clickable,s=t.xAnchor,u=t.yAnchor,l=t.zIndex,c=t.onCreate,f=e.useContext(g),d=m("CustomOverlayMap"),p=e.useRef(document.createElement("div")),k=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),v=e.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:s,yAnchor:u,zIndex:l,position:k,content:p.current});return p.current.style.display="none",e},[i,s,u]);return e.useImperativeHandle(n,function(){return v},[v]),e.useLayoutEffect(function(){if(d)return f?f.addMarker(v):v.setMap(d),function(){f?f.removeMarker(v):v.setMap(null)}},[d,f,v]),e.useLayoutEffect(function(){c&&c(v)},[v,c]),e.useLayoutEffect(function(){v.setPosition(k)},[v,k]),e.useLayoutEffect(function(){l&&v.setZIndex(l)},[v,l]),p.current.parentElement&&a.default.createPortal(r,p.current.parentElement)}),E=o.default.forwardRef(function(t,n){var o=t.position,a=void 0===o?kakao.maps.ControlPosition.TOPRIGHT:o,r=m("MapTypeControl"),i=e.useMemo(function(){return new kakao.maps.MapTypeControl},[]);return e.useImperativeHandle(n,function(){return i},[i]),e.useLayoutEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,i,a]),null}),M=o.default.forwardRef(function(t,n){var o=t.position,a=void 0===o?kakao.maps.ControlPosition.RIGHT:o,r=m("ZoomControl"),i=e.useMemo(function(){return new kakao.maps.ZoomControl},[]);return e.useImperativeHandle(n,function(){return i},[i]),e.useEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,a]),null}),b=o.default.forwardRef(function(t,n){var o=t.center,a=t.radius,r=t.fillColor,i=t.fillOpacity,s=t.strokeColor,u=t.strokeOpacity,l=t.strokeStyle,f=t.strokeWeight,d=t.zIndex,p=t.onMouseover,k=t.onMouseout,v=t.onMousemove,g=t.onMousedown,y=t.onClick,h=t.onCreate,w=m("Circle"),C=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),L=e.useMemo(function(){return new kakao.maps.Circle({center:C,radius:a,fillColor:r,fillOpacity:i,strokeColor:s,strokeOpacity:u,strokeStyle:l,strokeWeight:f,zIndex:d})},[]);return e.useImperativeHandle(n,function(){return L},[L]),e.useLayoutEffect(function(){return L.setMap(w),function(){L.setMap(null)}},[w,L]),e.useLayoutEffect(function(){h&&h(L)},[L,h]),e.useLayoutEffect(function(){L&&L.setPosition(C)},[L,C]),e.useLayoutEffect(function(){L.setRadius(a)},[L,a]),e.useLayoutEffect(function(){d&&L.setZIndex(d)},[L,d]),e.useLayoutEffect(function(){L.setOptions({fillColor:r,fillOpacity:i,strokeColor:s,strokeOpacity:u,strokeStyle:l,strokeWeight:f})},[L,r,i,s,u,l,f]),c(L,"mouseover",p),c(L,"mouseout",k),c(L,"mousemove",v),c(L,"mousedown",g),c(L,"click",y),null}),I=o.default.forwardRef(function(t,n){var o=t.path,a=t.endArrow,r=t.onClick,i=t.onMousedown,s=t.onMousemove,u=t.onMouseout,l=t.onMouseover,f=t.onCreate,d=t.strokeColor,p=t.strokeOpacity,k=t.strokeStyle,v=t.strokeWeight,g=t.zIndex,y=m("Polyline"),h=e.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),w=e.useMemo(function(){return new kakao.maps.Polyline({path:h,endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:k,strokeWeight:v,zIndex:g})},[]);return e.useImperativeHandle(n,function(){return w},[w]),e.useLayoutEffect(function(){return w.setMap(y),function(){return w.setMap(null)}},[y,w]),e.useLayoutEffect(function(){f&&f(w)},[w,f]),e.useLayoutEffect(function(){w.setOptions({endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:k,strokeWeight:v})},[w,a,d,p,k,v]),e.useLayoutEffect(function(){w.setPath(h)},[w,h]),e.useLayoutEffect(function(){g&&w.setZIndex(g)},[w,g]),c(w,"mouseover",l),c(w,"mouseout",u),c(w,"mousemove",s),c(w,"mousedown",i),c(w,"click",r),null}),x=o.default.forwardRef(function(t,n){var o=t.path,a=t.onClick,r=t.onMousedown,i=t.onMousemove,s=t.onMouseout,u=t.onMouseover,l=t.onCreate,f=t.strokeColor,d=t.strokeOpacity,p=t.strokeStyle,k=t.strokeWeight,v=t.fillColor,g=t.fillOpacity,y=t.zIndex,h=m("Polygon"),w=e.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),C=e.useMemo(function(){return new kakao.maps.Polygon({path:w,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k,zIndex:y})},[]);return e.useImperativeHandle(n,function(){return C},[C]),e.useLayoutEffect(function(){return C.setMap(h),function(){return C.setMap(null)}},[h,C]),e.useLayoutEffect(function(){l&&l(C)},[C,l]),e.useLayoutEffect(function(){C.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k})},[C,v,g,f,d,p,k]),e.useLayoutEffect(function(){C.setPath(w)},[C,w]),e.useLayoutEffect(function(){y&&C.setZIndex(y)},[C,y]),c(C,"mouseover",u),c(C,"mouseout",s),c(C,"mousemove",i),c(C,"mousedown",r),c(C,"click",a),null}),O=o.default.forwardRef(function(t,n){var o=t.bounds,a=t.onClick,r=t.onMousedown,i=t.onMousemove,s=t.onMouseout,u=t.onMouseover,l=t.onCreate,f=t.strokeColor,d=t.strokeOpacity,p=t.strokeStyle,k=t.strokeWeight,v=t.fillColor,g=t.fillOpacity,y=t.zIndex,h=m("Rectangle"),w=e.useMemo(function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))},[o]),C=e.useMemo(function(){return new kakao.maps.Rectangle({bounds:w,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k,zIndex:y})},[]);return e.useImperativeHandle(n,function(){return C},[C]),e.useLayoutEffect(function(){return C.setMap(h),function(){return C.setMap(null)}},[h,C]),e.useLayoutEffect(function(){l&&l(C)},[C,l]),e.useLayoutEffect(function(){C.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:k})},[C,v,g,f,d,p,k]),e.useLayoutEffect(function(){C.setBounds(w)},[C,w]),e.useLayoutEffect(function(){y&&C.setZIndex(y)},[C,y]),c(C,"mouseover",u),c(C,"mouseout",s),c(C,"mousemove",i),c(C,"mousedown",r),c(C,"click",a),null}),S=o.default.forwardRef(function(t,n){var o=t.center,a=t.rx,r=t.ry,i=t.fillColor,s=t.fillOpacity,u=t.strokeColor,l=t.strokeOpacity,f=t.strokeStyle,d=t.strokeWeight,p=t.zIndex,k=t.onMouseover,v=t.onMouseout,g=t.onMousemove,y=t.onMousedown,h=t.onClick,w=t.onCreate,C=m("Ellipse"),L=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),E=e.useMemo(function(){return new kakao.maps.Ellipse({center:L,rx:a,ry:r,fillColor:i,fillOpacity:s,strokeColor:u,strokeOpacity:l,strokeStyle:f,strokeWeight:d,zIndex:p})},[]);return e.useImperativeHandle(n,function(){return E},[E]),e.useLayoutEffect(function(){return E.setMap(C),function(){E.setMap(null)}},[C,E]),e.useLayoutEffect(function(){w&&w(E)},[E,w]),e.useLayoutEffect(function(){E&&E.setPosition(L)},[E,L]),e.useLayoutEffect(function(){E.setRadius(a,r)},[E,a,r]),e.useLayoutEffect(function(){p&&E.setZIndex(p)},[E,p]),e.useLayoutEffect(function(){E.setOptions({fillColor:i,fillOpacity:s,strokeColor:u,strokeOpacity:l,strokeStyle:f,strokeWeight:d})},[E,i,s,u,l,f,d]),c(E,"mouseover",k),c(E,"mouseout",v),c(E,"mousemove",g),c(E,"mousedown",y),c(E,"click",h),null}),z=o.default.forwardRef(function(t,n){var o=t.draw,a=t.onAdd,r=t.onRemove,s=t.onCreate,u=m(),l=e.useMemo(function(){var e=/*#__PURE__*/function(e){var t,n;function o(t,n,o){var a;return(a=e.call(this)||this).draw=t,a.onAdd=n,a.onRemove=o,a}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n),o}(kakao.maps.AbstractOverlay);return new e(o,a,r)},[o,a,r]);return e.useImperativeHandle(n,function(){return l},[l]),e.useLayoutEffect(function(){return l.setMap(u),function(){l.setMap(null)}},[u,l]),e.useLayoutEffect(function(){s&&s(l)},[l,s]),null}),P=["id","as","children","position","pan","panoId","panoX","panoY","tilt","zoom","onCreate","onInit","onPanoidChange","onPositionChanged","onViewpointChange","onErrorGetNearestPanoId"],R=o.default.createContext(void 0),A=o.default.forwardRef(function(t,n){var a=t.id,i=t.as,u=t.children,d=t.position,p=t.pan,k=t.panoId,m=t.panoX,v=t.panoY,g=t.tilt,y=t.zoom,h=t.onCreate,w=t.onInit,C=t.onPanoidChange,L=t.onPositionChanged,E=t.onViewpointChange,M=t.onErrorGetNearestPanoId,b=s(t,P),I=i||"div",x=e.useState(!1),O=x[0],S=x[1],z=e.useState(!0),A=z[0],D=z[1],T=e.useState(),Z=T[0],W=T[1],H=e.useRef(null);return l(function(){f.isLoaded().then(S)},[]),l(function(){if(O){var e=H.current;if(e){var t=new kakao.maps.Roadview(e,{pan:p,panoId:k,panoX:m,panoY:v,tilt:g,zoom:y});return W(t),function(){e.innerHTML=""}}}},[O,m,v,y]),e.useImperativeHandle(n,function(){return Z},[Z]),l(function(){Z&&h&&h(Z)},[Z,h]),l(function(){if(Z&&!k&&(Z.getPosition().getLat()!==d.lat||Z.getPosition().getLng()!==d.lng)){var e=new kakao.maps.LatLng(d.lat,d.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,d.radius,function(t){null===t&&M?M(Z):Z.setPanoId(t,e)})}},[Z,k,d.lat,d.lng,d.radius,M]),l(function(){if(Z&&k&&k!==Z.getPanoId()&&(Z.getPosition().getLat()!==d.lat||Z.getPosition().getLng()!==d.lng)){var e=new kakao.maps.LatLng(d.lat,d.lng);Z.setPanoId(k,e)}},[Z,k,d.lat,d.lng]),l(function(){if(Z){var e=Z.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),Z.setViewpoint(e))}},[Z,p,g]),c(Z,"init",function(e){D(!1),w&&w(e)}),c(Z,"panoid_changed",C),c(Z,"viewpoint_changed",E),c(Z,"position_changed",L),o.default.createElement(o.default.Fragment,null,o.default.createElement(I,r({ref:H,id:a||"react-kakao-maps-sdk-roadview-container"},b)),Z&&!A&&o.default.createElement(R.Provider,{value:Z},u))}),D=function(t){var n=e.useContext(R);if(!n)throw new Error((t?t+" Component":"useRoadview")+" must exist inside Roadview Component!");return n},T=o.default.forwardRef(function(t,n){var o=t.position,r=t.children,i=t.clickable,s=t.xAnchor,u=t.yAnchor,l=t.zIndex,c=t.altitude,f=t.range,d=t.onCreate,p=D("CustomOverlayRoadview"),k=e.useRef(document.createElement("div")),m=e.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),v=e.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:s,yAnchor:u,zIndex:l,position:m,content:k.current});return k.current.style.display="none",e},[i,s,u]);return e.useImperativeHandle(n,function(){return v},[v]),e.useLayoutEffect(function(){if(p)return v.setMap(p),function(){v.setMap(null)}},[v,p]),e.useLayoutEffect(function(){d&&d(v)},[v,d]),e.useLayoutEffect(function(){v.setPosition(m)},[v,m]),e.useLayoutEffect(function(){l&&v.setZIndex(l)},[v,l]),e.useLayoutEffect(function(){c&&v.setAltitude(c)},[v,c]),e.useLayoutEffect(function(){f&&v.setRange(f)},[v,f]),k.current.parentElement&&a.default.createPortal(r,k.current.parentElement)}),Z=o.default.forwardRef(function(t,n){var a=t.image,r=t.position,i=t.children,s=t.altitude,u=t.clickable,l=t.infoWindowOptions,c=t.onClick,f=t.onDragEnd,d=t.onDragStart,p=t.onMouseOut,k=t.onMouseOver,m=t.onCreate,v=t.opacity,g=t.range,y=t.title,w=t.zIndex,C=D("RoadviewMarker"),L=e.useMemo(function(){var e,t,n,o,r,i,s,u,l,c,f,d;return a&&new kakao.maps.MarkerImage(a.src,new kakao.maps.Size(a.size.width,a.size.height),{alt:null==(e=a.options)?void 0:e.alt,coords:null==(t=a.options)?void 0:t.coords,offset:(null==(n=a.options)?void 0:n.offset)&&new kakao.maps.Point(null==(o=a.options)?void 0:o.offset.x,null==(r=a.options)?void 0:r.offset.y),shape:null==(i=a.options)?void 0:i.shape,spriteOrigin:(null==(s=a.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(u=a.options)?void 0:u.spriteOrigin.x,null==(l=a.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=a.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=a.options)?void 0:f.spriteSize.width,null==(d=a.options)?void 0:d.spriteSize.height)})},[a]),E=e.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):"x"in r?new kakao.maps.Coords(r.x,r.y).toLatLng():new kakao.maps.Viewpoint(r.pan,r.tilt,r.zoom,r.panoId)},[r.lat,r.lng,r.x,r.y,r.pan,r.tilt,r.zoom,null==r?void 0:r.panoId]);return o.default.createElement(h,{map:C,position:E,image:L,altitude:s,clickable:u,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:m,opacity:v,range:g,title:y,zIndex:w,ref:n},i)}),W=o.default.forwardRef(function(t,n){var a=t.position,r=t.children,i=t.altitude,s=t.disableAutoPan,u=t.range,l=t.removable,c=t.zIndex,f=t.onCreate,d=D("RoadviewInfoWindow"),p=e.useMemo(function(){return"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId)},[a.lat,a.lng,a.pan,a.tilt,a.zoom,a.panoId]);return o.default.createElement(v,{altitude:i,disableAutoPan:s,range:u,removable:l,zIndex:c,map:d,position:p,onCreate:f,ref:n},r)}),H=o.default.createContext(void 0);function j(t,n,o){e.useLayoutEffect(function(){t&&o&&t.addListener(n,function(){var e=[].slice.call(arguments);return void 0===e?o(t):o.apply(void 0,[t].concat(e))})},[o,t,n])}var N=o.default.forwardRef(function(t,n){var a=t.arrowOptions,r=t.circleOptions,i=t.ellipseOptions,s=t.markerOptions,u=t.polygonOptions,l=t.polylineOptions,c=t.rectangleOptions,f=t.drawingMode,d=t.guideTooltip,p=t.onSelect,k=t.onDrawstart,v=t.onDraw,g=t.onDrawend,y=t.onDrawnext,h=t.onCancle,w=t.onRemove,C=t.onStateChanged,L=t.onCreate,E=t.children,M=m("Toolbox"),b=e.useMemo(function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:M,drawingMode:f,guideTooltip:d,arrowOptions:a,circleOptions:r,ellipseOptions:i,markerOptions:s,polygonOptions:u,polylineOptions:l,rectangleOptions:c});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return e.useImperativeHandle(n,function(){return b},[b]),e.useLayoutEffect(function(){b&&L&&L(b)},[b,L]),j(b,"select",p),j(b,"drawstart",k),j(b,"draw",v),j(b,"drawend",g),j(b,"drawnext",y),j(b,"cancel",h),j(b,"remove",w),j(b,"state_changed",C),b?o.default.createElement(H.Provider,{value:b},E):null}),_=o.default.forwardRef(function(t,n){var o=t.position;o=o||kakao.maps.ControlPosition.TOP;var a=m("Toolbox"),r=e.useContext(H);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");var i=e.useMemo(function(){return new kakao.maps.drawing.Toolbox({drawingManager:r})},[r]);return e.useImperativeHandle(n,function(){return i},[i]),e.useLayoutEffect(function(){var e=i.getElement();return a.addControl(e,o),function(){a.removeControl(e)}},[a,i,o]),null}),F=o.default.forwardRef(function(t,n){var a=t.id,i=void 0===a?"react-kakao-maps-sdk-staticmap-container":a,s=t.style,u=t.className,c=t.center,f=t.marker,d=t.level,p=t.mapTypeId,k=t.onCreate,m=e.useState(),v=m[0],g=m[1],y=e.useRef(null);return l(function(){if(window.kakao){var e=y.current;e&&kakao.maps.load(function(){var t=Array.isArray(f)?f.map(function(e){return r({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})}):"object"==typeof f&&f.position?r({},f,{position:new kakao.maps.LatLng(f.position.lat,f.position.lng)}):f,n=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(c.lat,c.lng),level:d,mapTypeId:p,marker:t});g(n)})}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")},[JSON.stringify(f)]),e.useImperativeHandle(n,function(){return v},[v]),l(function(){v&&v.setCenter(new kakao.maps.LatLng(c.lat,c.lng))},[v,c.lat,c.lng]),l(function(){v&&d&&v.setLevel(d)},[v,d]),l(function(){v&&p&&v.setMapTypeId(p)},[v,p]),l(function(){v&&k&&k(v)},[v,k]),o.default.createElement("div",{id:i,style:s,className:u,ref:y})});exports.AbstractOverlay=z,exports.Circle=b,exports.CustomOverlayMap=L,exports.CustomOverlayRoadview=T,exports.DrawingManager=N,exports.Ellipse=S,exports.Loader=f,exports.Map=k,exports.MapInfoWindow=C,exports.MapMarker=w,exports.MapTypeControl=E,exports.MapTypeId=function(t){var n=t.type,o=m("MapTypeId");return e.useEffect(function(){return o.addOverlayMapTypeId(n),function(){o.removeOverlayMapTypeId(n)}},[o,n]),null},exports.MarkerClusterer=y,exports.Polygon=x,exports.Polyline=I,exports.Rectangle=O,exports.Roadview=A,exports.RoadviewInfoWindow=W,exports.RoadviewMarker=Z,exports.StaticMap=F,exports.Toolbox=_,exports.ZoomControl=M,exports.useInjectKakaoMapApi=function(t){var n=e.useState({loading:!0,error:void 0}),o=n[0],a=n[1],r=e.useMemo(function(){return new f(t)},[JSON.stringify(t)]);return e.useEffect(function(){r.load().then(function(){return a({loading:!1,error:void 0})}).catch(function(e){return a({loading:!1,error:e})})},[r]),o},exports.useMap=m,exports.useRoadview=D;
//# sourceMappingURL=index.cjs.map
