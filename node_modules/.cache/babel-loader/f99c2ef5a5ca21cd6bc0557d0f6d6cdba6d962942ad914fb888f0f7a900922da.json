{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport CountALL from \"../components/CountALL\";\nimport CountAVE from \"../components/CountAVE\";\nimport { supabase } from \"../util/supabase\";\nconst useGetData = urlReqCompanyName => {\n  _s();\n  const [companyData, setCompanyData] = useState([{}]);\n  // supabase 잘 연결되었는지 확인\n  console.log(\"supabase:\", supabase);\n  // 총점1개, 장점1개 state 만들어보기\n\n  // supabase에서 table 가져오는 함수\n  const getTable = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from(\"SurveyData\").select().eq(\"company\", `${urlReqCompanyName}`);\n    if (data) {\n      console.log(data);\n      setCompanyData(data);\n      const {\n        totalPros1\n      } = CountALL(companyData);\n      //   countALL();\n      CountAVE(companyData);\n    }\n    if (error) {\n      console.log(\"에러가 나쪙 ㅠ.ㅠ\", error);\n    }\n  };\n\n  // 총 평균 구하는 함수\n  const countAVE = () => {};\n\n  // useEffect 부분\n  useEffect(() => {\n    getTable();\n  }, []);\n  return {\n    totalPros1,\n    commuteAve\n  };\n};\n_s(useGetData, \"PLf1V6JFPEoZUQs3hlvXRPcbMA0=\");\nexport default useGetData;","map":{"version":3,"names":["useEffect","useState","CountALL","CountAVE","supabase","useGetData","urlReqCompanyName","companyData","setCompanyData","console","log","getTable","data","error","from","select","eq","totalPros1","countAVE","commuteAve"],"sources":["/Users/hongdakyung/Desktop/myWorkSpace/comAround-supabase-customHook/src/hooks/useGetData.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport CountALL from \"../components/CountALL\";\nimport CountAVE from \"../components/CountAVE\";\nimport { supabase } from \"../util/supabase\";\n\nconst useGetData = (urlReqCompanyName: string) => {\n  const [companyData, setCompanyData] = useState([{}]);\n  // supabase 잘 연결되었는지 확인\n  console.log(\"supabase:\", supabase);\n  // 총점1개, 장점1개 state 만들어보기\n\n  // supabase에서 table 가져오는 함수\n  const getTable = async () => {\n    const { data, error } = await supabase\n      .from(\"SurveyData\")\n      .select()\n      .eq(\"company\", `${urlReqCompanyName}`);\n\n    if (data) {\n      console.log(data);\n      setCompanyData(data);\n      const { totalPros1 } = CountALL(companyData);\n      //   countALL();\n      CountAVE(companyData);\n    }\n    if (error) {\n      console.log(\"에러가 나쪙 ㅠ.ㅠ\", error);\n    }\n  };\n\n  // 총 평균 구하는 함수\n  const countAVE = () => {};\n\n  // useEffect 부분\n  useEffect(() => {\n    getTable();\n  }, []);\n\n  return { totalPros1, commuteAve };\n};\n\nexport default useGetData;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,SAASC,QAAQ,QAAQ,kBAAkB;AAE3C,MAAMC,UAAU,GAAIC,iBAAyB,IAAK;EAAA;EAChD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpD;EACAQ,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEN,QAAQ,CAAC;EAClC;;EAEA;EACA,MAAMO,QAAQ,GAAG,YAAY;IAC3B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMT,QAAQ,CACnCU,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,EAAE,CACRC,EAAE,CAAC,SAAS,EAAG,GAAEV,iBAAkB,EAAC,CAAC;IAExC,IAAIM,IAAI,EAAE;MACRH,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;MACjBJ,cAAc,CAACI,IAAI,CAAC;MACpB,MAAM;QAAEK;MAAW,CAAC,GAAGf,QAAQ,CAACK,WAAW,CAAC;MAC5C;MACAJ,QAAQ,CAACI,WAAW,CAAC;IACvB;IACA,IAAIM,KAAK,EAAE;MACTJ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEG,KAAK,CAAC;IAClC;EACF,CAAC;;EAED;EACA,MAAMK,QAAQ,GAAG,MAAM,CAAC,CAAC;;EAEzB;EACAlB,SAAS,CAAC,MAAM;IACdW,QAAQ,EAAE;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEM,UAAU;IAAEE;EAAW,CAAC;AACnC,CAAC;AAAC,GAlCId,UAAU;AAoChB,eAAeA,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}