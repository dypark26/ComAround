{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { supabase } from \"../util/supabase\";\nimport { useQuery } from \"react-query\";\nconst getTable = async urlReqCompanyName => {\n  const {\n    data\n  } = await supabase.from(\"SurveyData\").select().eq(\"company\", `${urlReqCompanyName}`);\n  return data;\n};\nconst useGetData = urlReqCompanyName => {\n  _s();\n  const [companyData, setCompanyData] = useState([{}]);\n  const {\n    data\n  } = useQuery([\"table\"], getTable, {\n    onSuccess: data => {\n      if (data) {\n        setCompanyData(data);\n      }\n    }\n  });\n  console.log(companyData);\n  return {};\n};\n_s(useGetData, \"ha4hwTQ803Bj9y3vlTVSuHfJZS8=\", false, function () {\n  return [useQuery];\n});\nexport default useGetData;","map":{"version":3,"names":["useState","supabase","useQuery","getTable","urlReqCompanyName","data","from","select","eq","useGetData","companyData","setCompanyData","onSuccess","console","log"],"sources":["/Users/hongdakyung/Desktop/myWorkSpace/comAround-supabase-customHook/src/hooks/useGetData.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport countALL from \"../util/countALL\";\nimport useCountAVE from \"../components/useCountAVE\";\nimport { supabase } from \"../util/supabase\";\nimport { useQuery } from \"react-query\";\n\nconst getTable = async (urlReqCompanyName) => {\n  const { data } = await supabase\n    .from(\"SurveyData\")\n    .select()\n    .eq(\"company\", `${urlReqCompanyName}`);\n  return data;\n};\n\nconst useGetData = (urlReqCompanyName: string) => {\n  const [companyData, setCompanyData] = useState([{}]);\n\n  const { data } = useQuery([\"table\"], getTable, {\n    onSuccess: (data) => {\n      if (data) {\n        setCompanyData(data);\n      }\n    },\n  });\n\n  console.log(companyData);\n  return {};\n};\n\nexport default useGetData;\n"],"mappings":";AAAA,SAAoBA,QAAQ,QAAQ,OAAO;AAG3C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,QAAQ,QAAQ,aAAa;AAEtC,MAAMC,QAAQ,GAAG,MAAOC,iBAAiB,IAAK;EAC5C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMJ,QAAQ,CAC5BK,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,EAAE,CACRC,EAAE,CAAC,SAAS,EAAG,GAAEJ,iBAAkB,EAAC,CAAC;EACxC,OAAOC,IAAI;AACb,CAAC;AAED,MAAMI,UAAU,GAAIL,iBAAyB,IAAK;EAAA;EAChD,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAEpD,MAAM;IAAEK;EAAK,CAAC,GAAGH,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAEC,QAAQ,EAAE;IAC7CS,SAAS,EAAGP,IAAI,IAAK;MACnB,IAAIA,IAAI,EAAE;QACRM,cAAc,CAACN,IAAI,CAAC;MACtB;IACF;EACF,CAAC,CAAC;EAEFQ,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC;EACxB,OAAO,CAAC,CAAC;AACX,CAAC;AAAC,GAbID,UAAU;EAAA,QAGGP,QAAQ;AAAA;AAY3B,eAAeO,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}